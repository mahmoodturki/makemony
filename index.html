<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Trendy Hub | Dynamic Sections & Live Articles</title>
  <meta name="description" content="Live news, sports, crypto, weight-loss, food and more. Updates every minute!">
  <link rel="icon" href="https://source.unsplash.com/64x64/?trendy" />
  <style>
    :root{--main:#0057ff;--bg:#f5f7fa;--card:#fff;--shadow:0 4px 16px rgba(0,0,0,.08);--radius:12px}
    *{margin:0;padding:0;box-sizing:border-box;font-family:Arial,Helvetica,sans-serif}
    body{background:var(--bg);color:#111;line-height:1.7;padding-bottom:120px}
    header{background:linear-gradient(135deg,#111 0%,var(--main) 100%);color:#fff;padding:40px 20px;text-align:center}
    header h1{font-size:2.4em;margin-bottom:10px}
    nav{display:flex;justify-content:center;gap:12px;flex-wrap:wrap;margin:20px 0}
    nav button{background:#fff;color:var(--main);border:none;padding:8px 18px;border-radius:30px;font-weight:bold;cursor:pointer;transition:.3s}
    nav button:hover{background:var(--main);color:#fff}
    main{max-width:1100px;margin:40px auto;padding:0 15px}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:25px}
    article{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden;transition:transform .3s}
    article:hover{transform:translateY(-6px)}
    article img{width:100%;height:200px;object-fit:cover}
    article .content{padding:20px}
    article h2{font-size:1.3em;margin-bottom:8px}
    article h2 a{color:var(--main);text-decoration:none}
    article p{color:#555;font-size:.9em}
    .ads{text-align:center;margin:30px 0}
    footer{position:fixed;bottom:0;left:0;right:0;background:#111;color:#aaa;text-align:center;padding:12px;font-size:.8em}
  </style>
</head>
<body>
<!-- Adsterra Top -->
<div class="ads">
  <script type="text/javascript">
    atOptions={'key':'dd1a0bafdb2ffb4e474ca0178ec5b13c','format':'iframe','height':50,'width':320,'params':{}};</script>
  <script src="//www.highperformanceformat.com/dd1a0bafdb2ffb4e474ca0178ec5b13c/invoke.js"></script>
</div>

<header>
  <h1>Trendy Hub</h1>
  <p>Live US articles • Refresh every 60 seconds</p>
  <nav>
    <button onclick="loadSection('news')">News</button>
    <button onclick="loadSection('sports')">Sports</button>
    <button onclick="loadSection('weightloss')">Weight-Loss</button>
    <button onclick="loadSection('food')">Food</button>
    <button onclick="loadSection('crypto')">Crypto</button>
    <button onclick="loadSection('economy')">Economy</button>
  </nav>
</header>

<main>
  <section id="articles-container" class="grid">
    <p style="text-align:center">Loading fresh US trends...</p>
  </section>
</main>

<!-- Mid Ad -->
<div class="ads">
  <script type="text/javascript">
    atOptions={'key':'dd1a0bafdb2ffb4e474ca0178ec5b13c','format':'iframe','height':50,'width':320,'params':{}};</script>
  <script src="//www.highperformanceformat.com/dd1a0bafdb2ffb4e474ca0178ec5b13c/invoke.js"></script>
</div>

<footer>© 2025 Trendy Hub | All rights reserved</footer>

<script>
// مصادر RSS مختارة لكل قسم
const sources = {
  news:'https://trends.google.com/trends/trendingsearches/daily/rss?geo=US',
  sports:'https://trends.google.com/trends/trendingsearches/daily/rss?geo=US', // يمكن استبدالها بـ ESPN
  weightloss:'https://trends.google.com/trends/trendingsearches/daily/rss?geo=US',
  food:'https://trends.google.com/trends/trendingsearches/daily/rss?geo=US',
  crypto:'https://trends.google.com/trends/trendingsearches/daily/rss?geo=US',
  economy:'https://trends.google.com/trends/trendingsearches/daily/rss?geo=US'
};

let currentSection = 'news';

async function loadSection(section = 'news') {
  currentSection = section;
  const container = document.getElementById('articles-container');
  container.innerHTML = '<p style="text-align:center">Loading...</p>';
  try {
    const res = await fetch(sources[section]);
    const text = await res.text();
    const xml = new DOMParser().parseFromString(text,'application/xml');
    const items = [...xml.querySelectorAll('item')].slice(0,6);
    container.innerHTML = '';
    items.forEach(item=>{
      const title = item.querySelector('title')?.textContent || 'No title';
      const link = item.querySelector('link')?.textContent || '#';
      const date = new Date(item.querySelector('pubDate')?.textContent || 0);
      const keyword = title.split(' ')[0].replace(/[^a-z]/gi,'');
      const img = `https://source.unsplash.com/800x400/?${keyword},${section}`;
      const card = document.createElement('article');
      card.innerHTML = `
        <img src="${img}" alt="${title}">
        <div class="content">
          <h2><a href="${link}" target="_blank">${title}</a></h2>
          <p>${date.toLocaleDateString('en-US',{month:'short',day:'numeric'})}</p>
        </div>
      `;
      container.appendChild(card);
    });
  } catch {
    container.innerHTML = '<p style="text-align:center">Could not load section. Try again.</p>';
  }
}

// تحميل الصفحة الرئيسية + تبديل تلقائي كل 60 ثانية
loadSection();
setInterval(()=>loadSection(currentSection), 60000);
</script>

<!-- Footer Ad -->
<div class="ads">
  <script type="text/javascript">
    atOptions={'key':'dd1a0bafdb2ffb4e474ca0178ec5b13c','format':'iframe','height':50,'width':320,'params':{}};</script>
  <script src="//www.highperformanceformat.com/dd1a0bafdb2ffb4e474ca0178ec5b13c/invoke.js"></script>
</div>
</body>
</html>
