<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Trendy USA News | أحدث الترند في أمريكا</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:Arial,Helvetica,sans-serif;}
    body{background:#f4f4f4;color:#111;line-height:1.6;padding-bottom:60px;}
    header{background:#111;color:#fff;padding:30px 20px;text-align:center;}
    header h1{font-size:2.2em;margin-bottom:10px;}
    main{max-width:800px;margin:30px auto;padding:0 15px;}
    article{background:#fff;border-radius:8px;padding:15px;margin-bottom:20px;box-shadow:0 2px 6px rgba(0,0,0,.1);}
    article h2{font-size:1.3em;margin-bottom:8px;}
    article a{color:#0057ff;text-decoration:none;}
    article a:hover{text-decoration:underline;}
    article small{color:#777;}
    footer{position:fixed;bottom:0;left:0;right:0;background:#111;color:#aaa;text-align:center;padding:8px;font-size:.8em;}
    /* إعلانات Adsterra */
    .ads{background:#fffaf0;border:1px dashed #ccc;padding:10px;margin:20px 0;text-align:center;color:#333;font-weight:bold;}
    @media(max-width:600px){
      header h1{font-size:1.7em;}
    }
  </style>
</head>
<body>
  <header>
    <h1>🔥 Trendy USA News</h1>
    <p>أحدث المواضيع الترند في الولايات المتحدة – تحديث تلقائي كل 30 دقيقة</p>
  </header>

  <main>
    <div class="ads">إعلان Adsterra هنا</div>
    <section id="trends">جاري تحميل الترند...</section>
  </main>

  <footer>© 2025 Trendy USA News | استضافة مجانية عبر GitHub Pages</footer>

  <script>
    async function loadTrends() {
      const trendsDiv = document.getElementById("trends");
      trendsDiv.innerHTML = "⏳ جاري التحديث...";
      try {
        const res = await fetch('https://trends.google.com/trends/trendingsearches/daily/rss?geo=US');
        const text = await res.text();
        const parser = new DOMParser();
        const xml = parser.parseFromString(text, "application/xml");
        const items = xml.querySelectorAll("item");
        trendsDiv.innerHTML = "";
        items.forEach((item, i) => {
          if (i >= 10) return; // نعرض أول 10 فقط
          const title = item.querySelector("title")?.textContent || "بدون عنوان";
          const link  = item.querySelector("link")?.textContent || "#";
          const date  = new Date(item.querySelector("pubDate")?.textContent || 0).toLocaleString("ar-US");
          trendsDiv.innerHTML += `
            <article>
              <h2><a href="${link}" target="_blank" rel="noopener">${title}</a></h2>
              <small>📅 ${date}</small>
            </article>`;
        });
      } catch (err) {
        trendsDiv.innerHTML = "⚠️ حدث خطأ أثناء جلب البيانات، حاول لاحقًا.";
      }
    }

    loadTrends();
    setInterval(loadTrends, 30 * 60 * 1000); // تحديث كل 30 دقيقة
  </script>
</body>
</html>
